<div class="segments">
    <ng-container *ngFor="let segment of rundown?.segments; trackBy: trackSegment">
        <sofie-segment
                *ngIf="!segment.isHidden"
                [segment]="segment"
                [isRundownActive]="rundown ? rundown.isActive : false"
                [isAutoNextStarted]="isAutoNextStarted"
                [durationInMsUntilSegmentIsPutOnAir]="startOffsetsInMsFromPlayheadForSegments[segment.id]"
                [remainingDurationInMsForOnAirPart]="remainingDurationInMsForOnAirPart"
                [currentEpochTime]="currentEpochTime"
        ></sofie-segment>
        <sofie-mini-shelf
                *ngIf="segment.metadata?.miniShelfVideoClipFile"
                [segment]="segment"
                [isRundownActive]="rundown ? rundown.isActive : false"
                [videoClipAction]="miniShelfSegmentActionMappings[segment.id]"
        ></sofie-mini-shelf>
    </ng-container>
</div>
