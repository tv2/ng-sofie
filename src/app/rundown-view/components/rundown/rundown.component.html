<div
    class="segments"
    *ngFor="let segment of rundown?.segments; trackBy: trackSegment"
>

<!--    TODO - use ngIf or let segment component decide to render minishelf component instead-->
    <sofie-segment
        *ngIf="segment.parts.length > 0"
        [segment]="segment"
        [isRundownActive]="rundown ? rundown.isActive : false"
        [durationInMsUntilSegmentIsPutOnAir]="startOffsetsInMsFromPlayheadForSegments[segment.id]"
        [remainingDurationInMsForOnAirPart]="remainingDurationInMsForOnAirPart"
        [currentEpochTime]="currentEpochTime"
    ></sofie-segment>

    <sofie-mini-shelf
      *ngIf="segment.parts.length > 0"
      [title]="segment.name"
      [metadata]="segment.miniShelMetadata"
    ></sofie-mini-shelf>

</div>
